


<view class="page-container">
  <view class="mask {{multiHidden?'hidden':'show'}}" bindtap="cancel"></view>
  <view class="content">
    <view class="group-inline">
      <text class="required">姓名</text>
      <input type="text" bindinput="bindNameChange" value="{{defaultName}}" placeholder="请输入预约人姓名" />
    </view>
    <view class="group-inline">
      <text class="required">手机</text>
      <input type="text"  bindinput="bindPhoneChange" value="{{defaultPhone}}" placeholder="请输入手机号"/>
    </view>
    <view class="code-box" hidden="{{codeBox}}">
      <text class="required">验证码</text>
      <input placeholder="请输入验证码" bindinput="bindCodeChange" value="{{code}}" placeholder-class="phstyle" />
      <text wx:if="{{setTimr}}" class="disabled">重新获取{{count}}s</text>
      <text class="get-code" wx:else bindtap="getCode">获取验证码</text>
    </view>
    <text wx:if="{{nameAjx}}" class="block warning">请填写姓名</text>
    <text wx:if="{{phoneAjx}}" class="block warning">手机格式不正确</text>
  </view>
  <!-- 单选时间选择器 -->
  <view wx:if="{{radioPicker}}">
    <view  class="section group-inline">
      <image class="picker-icon" src="http://p1ctmsz1g.bkt.clouddn.com/timeBlue.jpg" />
      <text class="required" style="white-space: nowrap;">预约时间</text>
      <picker mode="multiSelector" bindchange="bindMultiPickerChange" bindcancel="bindMultiPickerCancel" bindcolumnchange="bindMultiPickerColumnChange" value="{{multiIndex}}" range="{{multiArray}}">
        <view class="picker picker-text">
          <text class="picker-value">{{displayValue}}</text>
        </view>
      </picker>
    </view>
  </view>
  <!-- 多选时间选择器 -->
  <view wx:if="{{multiPicker}}">
    <view class="section group-inline" bindtap="multiShow">
      <image class="picker-icon" src="http://p1ctmsz1g.bkt.clouddn.com/timeBlue.jpg" />
      <text class="required" style="white-space: nowrap;">预约时间</text>
    </view>
    <view class="picker picker-text multi-picker-text" wx:if="{{selValueShow.length}}">
      <view>
        <view class="multipicker-value" wx:for="{{selValueShow}}">
          <text class="multipicker-date">{{dateShow}}</text>
          <text class="multipicker-time">{{item}}</text>
        </view>
      </view>
    </view>
    <!-- 多选时间选择器弹出层 -->
    <view wx:if="{{multiPicker}}" class="picker-custom {{multiHidden?'picker-hidden':'picker-show'}}">
      <view class="picker-btngroup"><text bindtap="cancel" class="picker-btn cancel-btn">取消</text><text bindtap="confirm" class="picker-btn confirm-btn">确定</text></view>
      <view class="picker-box">
        <picker-view indicator-style="height: 34px;" style="width: 100%; height: 300px;" value="{{value}}" bindchange="bindChange">
          <picker-view-column>
            <view wx:for="{{dates}}" style="line-height: 34px">{{item}}</view>
          </picker-view-column>
        </picker-view> 
        <picker-view indicator-style="height: 34px;" class="multi-picker" value="{{timeValue}}">
          <picker-view-column>
            <view wx:for="{{timeList}}" bindtap="select" class="multi-column" data-select-index="{{index}}" data-selected="{{select}}">
              <text class="multi-column-time">{{item.time}}  剩余:{{item.remain}}</text>
              <image wx:if="{{item.selStatus}}" class="selected-icon" src="http://p1ctmsz1g.bkt.clouddn.com/reservation-checked.jpg" />
              <image wx:else class="selected-icon" src="http://p1ctmsz1g.bkt.clouddn.com/reservation-unckecked.jpg" />
            </view>
          </picker-view-column>
        </picker-view>
        <!-- <scroll-view class="multi-picker" scroll-y="true">
          <view wx:for="{{timeList}}" catchtap="select" class="multi-column" data-select-index="{{ index }}" data-selected="{{select}}">
            {{item.time}}  剩余:{{item.remain}}
            <image class="selected-icon {{item.selStatus?'selected':'notSelected'}}" src="http://p1ctmsz1g.bkt.clouddn.com/check.png" />
          </view>
        </scroll-view> -->
      </view>
    </view>
  </view>
  <view class="footer-button">
    <button bindtap="reservation" hover-class="deep" disabled="{{buttonDisabled}}" class="submit-btn">提交预约</button>
  </view>
</view>

